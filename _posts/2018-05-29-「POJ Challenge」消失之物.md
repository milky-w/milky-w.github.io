---
title: 「POJ Challenge」消失之物
date: 2018-05-29 20:38:35
categories:
- 动态规划
tags:
- 背包DP
mathjax: true
---

> 题目大意：有 $N$ 个物品，体积分别是 $W_1,W_2,\cdots,W_N$，其中第 $i$ 个物品丢失了，使用剩下的 $N-1$ 个物品装满容积为 $x$ 的背包的方案数记为 $Count(i,x)$，输出所有 $1<=i<=N, 1<=x<=M$ 的 $Count(i,x)$ 表格。$1≤N≤2×10^3,1≤M≤2×10^3$

复杂度肯定是平方的了，普通的01背包就是平方的，考虑怎样在其中加点东西。容易发现01背包就是枚举物品往背包里放的，在这过程中就把 $<=M$ 的能装满的容量都求了一遍，关键是怎样知道哪个物品没放进去。枚举到第 $i$ 个物品时，$i$ 后面的物品肯定是都没放的，而 $i$ 前面的物品就不好处理了。

既然01背包的 $f[i][j]$ 是表示在放上第 $i$ 件物品时，恰好装满容量为 $j$ 的背包，那么就可以用补集的思想，改成一个一个往外拿物品，$f[i][j]$ 表示拿走第 $i$ 件物品时，恰好使容量为 $j$ 的背包满容。

初始时背包里放上所有的物品，然后一个一个往外拿，$f[i][j]$ 由状态 $f[i-1][j+w[i]]$ 转移过来，因为是求方案数，转移方程大概是：

$$f[i][j] += f[i-1][j+w[i]]$$

最后把 $f[i][j]$ 的表打出来就可以了。
