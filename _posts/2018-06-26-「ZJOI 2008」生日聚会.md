---
title: 「ZJOI 2008」生日聚会
date: 2018-06-26 16:19:34
categories:
- 动态规划
mathjax: true
---

> 题目大意：给 $m$ 个男孩和 $n$ 个女孩排队，求任意区间男女之差不超过 $k$ 的方案数。$n,m≤150，k≤20$

先想到用差值DP，设 $f[i][j][k]$ 表示前 $i$ 个人中，男女人数差值为 $j$ 的方案数，其中 $k=0$ 表示男生多，$k=1$ 表示女生多。有：

$$f[i][j][k] = f[i-1][j-1][k] + f[i-1][j+1][k\text{^}1]$$

然后我就发现这样做的问题了，这样只保证了区间 $[0,i]$ 的差值不超过 $k$，而不满足任意一段区间。

